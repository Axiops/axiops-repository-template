name: Lint and Test

# To enable this workflow, uncomment the "on:" section below.
# This workflow is disabled by default in the template repository
# because it will fail until Go code and tests are added.
#
# on:
#   push:
#     branches: [ main ]
#   pull_request:
#     branches: [ main ]

jobs:
  lint-and-test:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Set up Go
        uses: actions/setup-go@v5
        with:
          go-version: "1.21" # Should match go.mod
          cache: true

      - name: Install Task
        uses: arduino/setup-task@v2

      - name: Run Linters
        run: task lint

      - name: Run Tests
        run: task test
